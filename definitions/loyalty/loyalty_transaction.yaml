type: object
title: LoyaltyTransaction
required:
  - amount
  - state
  - last_updated
properties:
  id:
    type: string
    description: The ID of the transaction
  from_misdn:
      type: string
      format: msisdn
      description: The msisdn of the sender of the loyalty points
  to_msisdn:
      type: string
      format: msisdn
      description: The msisdn of the receiver of the loyalty points
  amount:
      type: number
      format: float
      description: The amount of loyalty points transferred
  state:
      type: string
      enum:
          - completed
          - reserved
          - cancelled
      description: >
          __Completed__: This is the state for a completed transaction. Once the state moves to Completed, updates are
          no longer allowed. The customer can use the loyalty points only after they have been moved to Completed.
          __Reserved__: When a payment is done using loyatly points they will be placed in the Reserved state untill the
          payment is complete. When the payment is cancelled the points will be moved back to Completed so they can be
          reused.
          __Cancelled__: When a deal is cancelled or the customer is no longer eligible for the loyalty points they will
          be moved to the Cancelled state. These points can not be used by the customer.

  last_updated:
      type: string
      format: date-time
      description: "Last time this transaction was updated"
      example: "2017-08-16T08:00:00.000Z"
  description:
      type: string
      description: The message of the transaction
